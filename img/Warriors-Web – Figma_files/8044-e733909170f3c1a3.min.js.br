"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="634caede-2cec-554c-8d97-dec9eb1b7ede")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8044],{821150:(e,t,n)=>{n.d(t,{$9:()=>s,BZ:()=>l,Gv:()=>p,Lq:()=>I,PE:()=>r,Pj:()=>g,SI:()=>m,_Z:()=>a,hj:()=>v,ig:()=>d,mj:()=>u,ow:()=>i,s1:()=>y,uO:()=>o,vL:()=>c});let l="styles_properties_form--styleNameAndDescriptionContainer--L2pn-",i="styles_properties_form--styleDescriptionLabel--ErQ6b",r="styles_properties_form--styleDescriptionContainer--NtXrJ",a="styles_properties_form--textInput--rWj8- raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",o="styles_properties_form--expandingTextInput--E7usn",s="styles_properties_form--textPreviewContainer---jjb4 styles_properties_form--previewContainer--SH1Yk",d="styles_properties_form--gridAndEffectPreviewContainer--9q2FM styles_properties_form--previewContainer--SH1Yk",u="styles_properties_form--loadedFillPreviewContainer--36WiC styles_properties_form--fillPreviewSize--GiUdz",c="styles_properties_form--loadingFillPreviewContainer--WPdS6 styles_properties_form--fillPreviewSize--GiUdz",p="styles_properties_form--stylePreview--tJF78",g="styles_properties_form--textStylePreview--Jp6WQ",m="styles_properties_form--textStylePreviewInverted--GeC3b",v="styles_properties_form--fillStylePreview--xOVAg styles_properties_form--fillPreviewSize--GiUdz",I="styles_properties_form--loading--0A0hy",y="styles_properties_form--isLoaded--2czdf"},708071:(e,t,n)=>{n.d(t,{H:()=>l});let l=n(411855).createContext({externalCommentScrollRef:null,onScrollToRatings:null})},792199:(e,t,n)=>{n.d(t,{n:()=>y});var l=n(776250),i=n(395900),r=n(27087),a=n(939863),o=n(582064),s=n(392592),d=n(580857),u=n(357611),c=n(971120),p=n(508567),g=n(566083),m=n(709495);let v=e=>e===c.L.BrowseResourceTypes.FILES?"/api/feed/files":e===c.L.BrowseResourceTypes.PLUGINS?"/api/feed/plugins":e===c.L.BrowseResourceTypes.WIDGETS?"/api/feed/widgets":"/api/feed/mixed",I="community_search_duration";function y(){let e={editor_type:u.k.Editors.ALL,following:!1,price:g.C.ALL,tags:[],pagination:null,sort_by:"popular",query:"",category:null,creators:d.Z.ALL,capability_type:void 0};function t(e,t,n,l){let i={sort_by:n.sort_by,editor_type:n.editor_type,query:n.query,price:n.price,creators:n.creators,session_id:e,query_id:t,resource_type:l.resourceType},{limit:r,isPreview:a}=l;return r&&!isNaN(r)&&(i.max_num_results=r),a&&(i.limit_associations=!0),p.$W.getCommunityResources(i)}let n={sort:t=>(e.sort_by=t,n),filter:t=>(t.sort_by&&(e.sort_by=t.sort_by||m.e.Shared.POPULAR),"editor_type"in t&&t.editor_type&&(e.editor_type=t.editor_type),"following"in t&&t.following&&(e.following=t.following),"price"in t&&t.price&&(e.price=t.price),"creators"in t&&t.creators&&(e.creators=t.creators),"tags"in t&&t.tags&&(e.tags=t.tags),"pagination"in t&&t.pagination&&(e.pagination=t.pagination),"category"in t&&t.category&&(e.category=t.category),"capability_type"in t&&t.capability_type&&(e.capability_type=t.capability_type),"query"in t&&t.query&&(e.query=t.query),n),browse:function(t,n){let l=v(t),i=function(e){let t={sort_by:e.sort_by,tags:e.tags,pagination:e.pagination,editor_type:e.editor_type||u.k.Editors.ALL,category:e.category,price:e.price,creators:e.creators};return e.following&&(t.following=e.following),e.price&&(t.price=e.price),e.editor_type&&(t.editor_type=e.editor_type),e.creators&&(t.creators=e.creators),e.capability_type&&(t.capability_type=e.capability_type),t}(e);return l+=`?${new URLSearchParams(i).toString()}&include_tags=true&include_versions=true`,n&&(l+=`&page_size=${n}`),(0,r.k9)(l)},searchResourcesAndProfiles:n=>(r,d)=>{var u;let c=new i.jk(I,{});c.start();let g=(null==(u=d().search)?void 0:u.sessionId)||"unattributed",m=(0,o.M)();return Promise.all([t(g,m,e,n),function(e,t,n,l){let{profileLimit:i}=l,r={query:n.query,sessionId:e,queryId:t,maxNumResults:i||50};return p.$W.getHubProfiles(r)}(g,m,e,n)]).then(t=>{"unattributed"!==g&&r(o.N.incrementQueryCount());let i=c.stop();return(0,l.sx)(I,{elapsedMs:i,resourceResultCount:t[0].data.meta.results.length,profileResultCount:t[1].data.meta.results.length,query:e.query,isPreview:!!n.isPreview},{forwardToDatadog:!0}),t}).catch(e=>(r(s.F.enqueue({message:e.message||(0,a.t)("community.error.search_request_failed"),error:!0,type:"community-search-error",timeoutOverride:2e3})),Promise.reject(e)))},searchResources:(n={resourceType:"mixed"})=>(l,i)=>{var r;let d=(null==(r=i().search)?void 0:r.sessionId)||"unattributed";return t(d,(0,o.M)(),e,n).then(e=>("unattributed"!==d&&l(o.N.incrementQueryCount()),e)).catch(e=>(l(s.F.enqueue({message:e.message||(0,a.t)("community.error.search_request_failed"),error:!0,type:"community-search-error",timeoutOverride:2e3})),Promise.reject(e)))}};return n}},552993:(e,t,n)=>{let l;n.d(t,{_W:()=>g,nN:()=>p});var i=n(411855),r=n(629019),a=n.n(r),o=n(939863),s=n(203008),d=n(498606),u=n(583718),c=n(179494),p=((l=p||{}).DETAIL="detail",l.TILE="title",l.FIGJAM_PLUGIN_ROW="figjam_plugin_row",l);function g(e){let{isSavedForUser:t,save:n,unsave:l}=(0,u.QK)(e.resourceId,e.resourceType);return i.createElement(m,{onClick:e=>{t?l():n(),e.stopPropagation()},isSaved:t,parentView:e.parentView,isFauxFocused:e.isFauxFocused})}function m(e){let t="title"===e.parentView?a()(c.YB,{[c.Xb]:!e.isSaved,[c.ez]:e.isSaved||!!e.isFauxFocused}):"figjam_plugin_row"===e.parentView?a()([c.k7,c._P],{[c.Xb]:!e.isSaved,[c.ez]:e.isSaved}):c.k7,{SaveIcon:n,SaveIconFilled:l}=i.useMemo(()=>"title"===e.parentView?{SaveIcon:s.TI,SaveIconFilled:s.rc}:{SaveIcon:s.Jv,SaveIconFilled:s.$O},[e.parentView]);return i.createElement("button",{className:t,onClick:e.onClick,"data-tooltip-type":d.Ib.TEXT,"data-tooltip":e.isSaved?(0,o.t)("community.saves.remove_from_saves"):(0,o.t)("community.saves.save")},i.createElement("div",null,e.isSaved?i.createElement(l,null):i.createElement(n,null)))}},583718:(e,t,n)=>{n.d(t,{Bj:()=>m,QK:()=>g,Vw:()=>v});var l=n(411855),i=n(188507),r=n(499737),a=n(923716),o=n(756085),s=n(269167),d=n(813648),u=n(279453),c=n(336599),p=n(555328);function g(e,t){var n,a;let c=(0,o.Be)(),g=t===p.vt.PLUGIN?c.plugins[e]:c.widgets[e],m=(0,s.xp)(e),v=(0,s.aQ)(e),I=(0,i.d4)(t=>t.publishedPlugins[e]?m:v),y=(0,i.d4)(e=>e.currentUserOrgId),E=(0,r.Rs)(u.BB3,{orgId:y}),_=l.useMemo(()=>{var t,n,l;return null==(l=null==(n=null==(t=E.data)?void 0:t.currentUser)?void 0:n.installedPlugins.find(t=>t.pluginId===e))?void 0:l.id},[null==(a=null==(n=E.data)?void 0:n.currentUser)?void 0:a.installedPlugins,e]),{unsave:w,save:f}=(0,d._i)(e,t,I,_);return{unsave:w,save:f,isSavedForUser:!!(g&&"user"===g.installed_by),isSavedForOrg:!!(g&&"org"===g.installed_by),version:g}}function m(e){let t=!!e&&"user"===e.installed_by,n=!!e&&"org"===e.installed_by,{save:i,unsave:r}=(0,d._i)(e.plugin_id,p.vt.PLUGIN),a=l.useCallback((e,l)=>{n||(t?r(l):i(e,l))},[n,t,r,i]);return{isSavedForUser:t,isSavedForOrg:n,onSaveClick:a}}function v(e){let t=(0,i.wA)(),n=(0,i.d4)(t=>t.communityHub.categories?t.communityHub.categories[e]:[]),r=a.et.loadingKeyForPayload({categoryType:e}),o=(0,c.oh)(r),s=(0,c.mC)(r);return l.useEffect(()=>{o||s||t(a.et({categoryType:e}))}),{categories:n,isLoading:o,hasResolved:s}}},76154:(e,t,n)=>{let l;n.d(t,{Cg:()=>eh,GJ:()=>e$,R7:()=>ev,dr:()=>eG,ff:()=>eb,tO:()=>eW,yG:()=>ez});var i=n(411855),r=n(188507),a=n(629019),o=n.n(a),s=n(517333);if(443==n.j)var d=n(860601);var u=n(572174),c=n(563042),p=n(946689),g=n(723325),m=n(574176),v=n(348425),I=n(630949),y=n(939863),E=n(501114),_=n(175290),w=n(365292),f=n(408552),b=n(251288),C=n(829488),T=n(466636),h=n(545941),R=n(738269),F=n(931828),P=n(235629),N=n(672517),k=n(780700),B=n(756085),S=n(988022),A=n(269167),D=n(641638),x=n(662531),O=n(170786),L=n(318812),j=n(694687),U=n(99506),M=n(215822),W=n(555328),V=n(376485),G=n(498606),z=n(18993),$=n(978527),H=n(464628),q=n(399932),Y=n(933464),Z=n(943089),J=n(507956),Q=n(206074),K=n(227795),X=n(927206);if(443==n.j)var ee=n(503733);var et=n(33876),en=n(103567),el=n(552993),ei=n(172226),er=n(632788),ea=n(760445),eo=n(76158),es=n(179494),ed=n(292164),eu=n(362679),ec=n(13556);if(443==n.j)var ep=n(665150);if(443==n.j)var eg=n(111431);var em=n(237494),ev=((l=ev||{}).COMMUNITY="community",l.RECENT="recent",l.DEVELOPMENT="development",l.DEVELOPMENT_MISSING_LOCAL="development_missing_local",l.ORG_PRIVATE="org_private",l.SAVED="saved",l.INVITED="invited",l);function eI(e){var t,n;let l=(0,r.d4)(e=>e.orgById);if(e.resource.is_private){let r=(null==(t=e.resource)?void 0:t.org_id)&&(null==(n=l[e.resource.org_id])?void 0:n.name);return i.createElement(m.B,{svg:em.A,className:es.kQ,"data-tooltip-type":G.Ib.TEXT,"data-tooltip":r?(0,y.t)("community.plugins.private_for_plugin_org_name",{orgName:r}):(0,y.t)("community.plugins.private_for_plugin_org")})}return i.createElement(i.Fragment,null)}let ey=i.createContext(null);function eE(){return(0,u.sR)(i.useContext(ey),"Must be wrapped within <FdBrowseWidgetTileContext.Provider>")}let e_=i.createContext(null);function ew(){return(0,u.sR)(i.useContext(e_),"Must be wrapped within <FdBrowsePluginTileContext.Provider>")}function ef(e,t,n){let l=i.useRef(null),r=i.useCallback(()=>{l.current&&l.current.click()},[l]),{setKeyboardNavigationElement:a,isFauxFocused:o,keyboardNavigationItem:s}=(0,g.M3)({path:t||[0],fauxClick:r,id:e}),d=n&&t&&t.length>=2&&t[0]===ea.B6&&0===t[1];return i.useEffect(()=>{d&&(null==s||s.fauxFocus())},[d,s]),{setKeyboardNavigationElement:a,isFauxFocused:o,keyboardNavigationButtonRef:l}}function eb({resourceId:e,type:t,keyboardNavigationPath:n,shouldFocusFirstItem:l}){let r;let{activeTab:a,viewResource:o}=(0,ea.IT)(),s=(0,B.$1)(),d="development"===t?Object.values(s).find(t=>String(t.localFileId)===e):null,u=null==d?void 0:d.plugin_id,c=i.useCallback(()=>o({id:u??e}),[e,o,u]),p=i.useMemo(()=>a===eo.s.WIDGET?{viewWidgetDetails:c,keyboardNavigationPath:n,shouldFocusFirstItem:l}:{viewPluginDetails:c,keyboardNavigationPath:n,shouldFocusFirstItem:l},[a,n,c,l]);if(a===eo.s.WIDGET){switch(t){case"community":r=i.createElement(ej,{widgetId:e});break;case"recent":r=i.createElement(eA,{widgetId:e,type:"recent"});break;case"development":r=i.createElement(eO,{localFileId:e});break;case"development_missing_local":r=i.createElement(eO,{widgetId:e});break;case"org_private":r=i.createElement(ex,{widgetId:e});break;case"saved":r=i.createElement(eD,{widgetId:e,type:"saved"});break;case"invited":r=i.createElement(eL,{widgetId:e});break;default:return null}return i.createElement(ey.Provider,{value:p},r)}switch(t){case"community":r=i.createElement(eT,{pluginId:e});break;case"recent":r=i.createElement(eC,{pluginId:e});break;case"development":r=i.createElement(eN,{localFileId:e});break;case"development_missing_local":r=i.createElement(eN,{pluginId:e});break;case"org_private":r=i.createElement(ek,{pluginId:e});break;case"saved":r=i.createElement(eF,{pluginId:e,type:"saved"});break;case"invited":r=i.createElement(eR,{pluginId:e});break;default:return null}return i.createElement(e_.Provider,{value:p},r)}function eC({pluginId:e}){let t=(0,B.b4)()[e],n=(0,B.cW)()[e],l=(0,A.tw)(n);return t?(0,V.ZQ)(t)?i.createElement(eN,{localFileId:t.localFileId.toString(),isRecentTile:!0}):l?null:i.createElement(eF,{pluginId:t.plugin_id,type:"recent"}):null}function eT(e){let t=(0,B.cW)()[e.pluginId];if(e.plugin&&(t=e.plugin),!t)return null;let n=(0,M.uF)(t),{description:l,tagline:r}=n,a=(0,ea.fO)(t),o=i.createElement(i.Fragment,null,i.createElement("div",{className:es.y7},(0,h.G8)({tagline:r,description:l},c.$J)),i.createElement("div",{className:es.Yl},a));return i.createElement(eS,{pluginVersion:n,subheader:o,pluginId:e.pluginId,primaryCTAButton:e.ctaButton,alwaysShowPrimaryCTA:e.alwaysShowCta,isDevModeWizard:e.isDevModeWizard,onClick:e.onClick,isCommunityPreview:!0})}function eh({plugin:e,ctaButton:t,onClick:n}){let l={viewPluginDetails:d.lQ,keyboardNavigationPath:void 0,shouldFocusFirstItem:void 0};return i.createElement(e_.Provider,{value:l},i.createElement(eT,{pluginId:e.id,plugin:e,ctaButton:t,alwaysShowCta:!0,isDevModeWizard:!0,onClick:n}))}function eR(e){let t=(0,B.cW)()[e.pluginId],n=(0,r.wA)(),l=i.useCallback(()=>{n(R.oB())},[n]);if(!t)return null;let a=(0,M.uF)(t),{description:o,tagline:s}=a,d=i.createElement(i.Fragment,null,i.createElement("div",{className:es.Pg},(0,h.G8)({tagline:s,description:o},c.$J)),i.createElement("div",{className:es.Yl},(0,ea.fO)(t)));return i.createElement(i.Fragment,null,i.createElement(eS,{pluginVersion:a,subheader:d,pluginId:e.pluginId,onClick:l,showEditorTypeIcon:!0,isNotification:!0,metadataOverrideNode:i.createElement(en.PE,{resource:t})}))}let eF=i.memo(function(e){let t=(0,B.Be)(),n=t.plugins[e.pluginId]||t.orgPlugins[e.pluginId],l=(0,B.b4)()[e.pluginId],r=(0,B.cW)()[e.pluginId],a=i.useMemo(()=>"recent"===e.type?l:"org_private"===e.type?(0,M.uF)(r):n,[n,e.type,r,l]),o=(0,L.U)(),s=(null==o?void 0:o.type)===er._n&&o.data.pluginId===e.pluginId&&o.data.targetRect&&o.data.viewType===e.type,d=ez(e.pluginId,e.type);return i.createElement(eP,{pluginId:e.pluginId,type:e.type,dropdownIsShown:s,runOptionsDropdownIsShown:d,version:a})}),eP=i.memo(function(e){var t;let{dropdownIsShown:n,version:l}=e,a=(0,r.wA)(),{viewPluginDetails:o}=ew(),s=i.useCallback(t=>{t.stopPropagation(),n?a(R.oB()):a(R.j7({type:er._n,data:{pluginId:e.pluginId,targetRect:t.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[n,a,e.pluginId,e.type]),d=(0,k.dR)(e.pluginId,"universal-insert"),u=(0,k.Gt)(e.pluginId,"universal-insert"),c=(0,P.t0)(e.pluginId,u,d),p=c.length>0,g=e.runOptionsDropdownIsShown&&p,m=i.useRef(null),{validatePublishedPluginInOrgAllowlist:v,isPluginBlockedByAllowlist:I}=(0,B.j1)(e.pluginId),y=(0,k.RK)(e.pluginId),E=i.useCallback(t=>{if(null==t||t.stopPropagation(),v()){if(p){g?a(R.oB()):a(eG({pluginId:e.pluginId,tileType:e.type}));return}y?u():d(),a(F.b({seen_published_plugin_onboarding_modal:!0})),a(F.b({seen_development_plugin_onboarding_modal:!0}))}},[v,p,y,a,g,e.pluginId,e.type,u,d]),_=null==(t=m.current)?void 0:t.getBoundingClientRect();if(!l)return null;let w=!!(g&&_)||n,f=i.createElement(el._W,{resourceId:e.pluginId,resourceType:W.vt.PLUGIN,parentView:el.nN.TILE,isFauxFocused:w});return i.createElement("div",null,i.createElement(eS,{pluginVersion:l,pluginId:e.pluginId,onOptionsClick:s,optionsButtonIsActive:n,onClick:E,showOnClickDropdownChevron:p,secondaryIcon:i.createElement(eI,{resource:l}),primaryCTAButton:f,isFauxFocused:w,visuallyDisabled:I}),i.createElement("div",{ref:m}),g&&_&&i.createElement(Q.j,{showPoint:!1,lean:"center",items:c,onSelectItem:e=>{e.callback&&e.callback("",null,a)},parentRect:_,dispatch:a}),n&&i.createElement(er.EJ,{viewResource:o,plugin:l}))});function eN(e){var t;let n=(0,r.wA)(),l=(0,B.nl)({allowNonVsCodePluginsInVsCode:!0}),a=e.localFileId?l[e.localFileId]:void 0,o=a?a.plugin_id:e.pluginId,s=(0,B.kd)({includePendingPublishers:!1}).find(e=>e.id===o),d=s?(0,M.uF)(s):void 0,u=(0,L.U)(),{viewPluginDetails:c}=ew(),p=(null==u?void 0:u.type)===er.lD&&(null==u?void 0:u.data.localFileId)===e.localFileId&&(null==u?void 0:u.data.pluginId)===o,g=i.useCallback(t=>{if(t.stopPropagation(),p)n(R.oB());else{let l=t.currentTarget.getBoundingClientRect();n(R.j7({type:er.lD,data:{localFileId:e.localFileId,pluginId:o,targetRect:l}}))}},[n,e.localFileId,o,p]),v=(0,k.Gt)(o,"universal-insert"),I=(0,k.dR)(o,"universal-insert"),E=(0,P.t0)(o,v,I),_=E.length>0,f=i.useRef(null),b=null==(t=f.current)?void 0:t.getBoundingClientRect(),C=ez(o,e.isRecentTile?"recent_development":"development")&&_,T=i.useCallback(()=>{if(_){C?n(R.oB()):o&&n(eG({pluginId:o,tileType:e.isRecentTile?"recent_development":"development"}));return}I()},[_,I,C,n,o,e.isRecentTile]);if(!a&&!s)return null;let F=i.createElement(et.A,{localResource:a,publishedResource:s}),N=s&&(0,h.AC)(s),S=s&&(null==d?void 0:d.redirect_icon_url),A=s&&!N?s.roles.is_public?ep.A:em.A:void 0,D=i.createElement(w.Ex,{height:"16"},i.createElement("span",null,i.createElement(y.Tx,{id:"universal_insert.development"})));return i.createElement(i.Fragment,null,i.createElement(eS,{pluginVersion:d,localPlugin:a,subheader:F,icon:S?void 0:i.createElement(m.B,{svg:eg.A,className:es.Bx}),secondaryIcon:D,pluginId:o,onOptionsClick:g,onClick:T,optionsButtonIsActive:p,showOnClickDropdownChevron:_,showEditorTypeIcon:!1,publishingStatusIcon:A,inReview:N}),i.createElement("div",{ref:f}),C&&b&&i.createElement(Q.j,{showPoint:!1,lean:"center",items:E,onSelectItem:e=>{e.callback&&e.callback("",null,n)},parentRect:b,dispatch:n}),p&&(a?i.createElement(er.T9,{localResource:a,viewResource:c}):i.createElement(er.T9,{publishedResource:s,viewResource:c})))}function ek(e){return(0,B.cW)()[e.pluginId]?i.createElement(eF,{pluginId:e.pluginId,type:"org_private"}):null}function eB({pluginId:e,name:t,icon:n,iconUrl:l}){let[r,a]=i.useState(!!n);return i.createElement("div",{className:o()(r?es.lP:es.vt)},n||i.createElement($.V,{plugin:{name:t,plugin_id:e,redirect_icon_url:l??""},loading:"lazy",alt:`${t} icon`,onLoad:()=>a(!0)}))}function eS(e){var t,n,l,r;let a;let s=(null==(t=e.pluginVersion)?void 0:t.name)??(null==(n=e.localPlugin)?void 0:n.name)??"",d=null==(l=e.pluginVersion)?void 0:l.redirect_icon_url,{isPluginSetToAutoRun:u}=(0,z.bE)(e.pluginVersion??null),c=e.localPlugin?e.localPlugin.manifest.editorType:null==(r=e.pluginVersion)?void 0:r.manifest.editorType,p=!e.subheader,{viewPluginDetails:g,keyboardNavigationPath:C,shouldFocusFirstItem:T}=ew(),{setKeyboardNavigationElement:h,isFauxFocused:R,keyboardNavigationButtonRef:F}=ef(`plugin_${s}`,C,!!T),P=(0,N.j6)(),k=(0,A.ul)(e.pluginId),x=Object.values((0,B.$1)()).find(t=>String(t.plugin_id)===e.pluginId),O=(0,M.uF)(k),L=(0,M.pk)(O),U=(0,A.EO)(k)&&!x,W=(0,A.OY)(k),V=(0,A.gn)(k)&&!x,$=(0,j.sZ)(),H=(0,B.ll)(),q=!x&&(0,D.BF)({org:$,extensionVersion:O??e.pluginVersion,isWidget:!1,allowlistedExtensions:H}),Y=e.isCommunityPreview&&!q&&!e.isDevModeWizard,Q=U&&!W?i.createElement(eH,{plugin:k,hideFreeTrialBadge:!0}):V?i.createElement(X.ur,null):Y?i.createElement(eW,{pluginId:e.pluginId,buttonRef:F}):void 0,ee=(0,f.QP)({resource:k,height:"16",validBadges:[f.op.FREEMUM,f.op.OFF_PLATFORM,f.op.PURCHASED]}),et=e.metadataOverrideNode??i.createElement(i.Fragment,null,i.createElement("div",{className:es.FV},i.createElement(_.Y,{spacing:4},i.createElement("div",{className:o()(es.B6,{[I.cx.colorTextDisabled.$]:e.visuallyDisabled})},s),u&&i.createElement(w.Ex,{height:"16"},(0,y.t)("universal_insert.auto_run")),e.inReview&&i.createElement(b.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,ee&&!V&&i.createElement("div",{className:es.UK},ee),e.publishingStatusIcon&&i.createElement("div",{className:I.cx.colorIcon.$},i.createElement(v.t,{svg:e.publishingStatusIcon})),e.showOnClickDropdownChevron&&i.createElement(m.B,{svg:ed.A,className:es.o2})),e.subheader&&i.createElement("div",{className:es.ZK},e.subheader)),Q&&i.createElement("div",{className:es.D1},Q),e.onOptionsClick&&i.createElement(K.K0,{svg:eu.A,fallbackSvg:ec.A,className:e.optionsButtonIsActive?es.F$:es.D1,onClick:e.onOptionsClick,"data-tooltip-type":G.Ib.TEXT,"data-tooltip":(0,y.t)("universal_insert.more_options")}),e.primaryCTAButton&&i.createElement("div",{style:E.sx.add({alignSelf:"center"}).$},e.primaryCTAButton)),en=function(e,t){if((0,J.ks)());else if(e&&t)return!0;return!1}(e.showEditorTypeIcon,c),el=(0,J.ks)();a=en?i.createElement(Z.li.IconAndBadgeContainer,null,i.createElement(eB,{pluginId:e.pluginId,name:s,iconUrl:d,icon:e.icon}),i.createElement(Z.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin"},i.createElement(Z.dn,{editorType:c,is16x16:!0}))):el&&L?i.createElement(Z.li.IconAndBadgeContainer,null,i.createElement(eB,{pluginId:e.pluginId,name:s,icon:e.icon,iconUrl:d}),i.createElement(Z.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin"},i.createElement(Z.cC,null))):i.createElement(eB,{pluginId:e.pluginId,name:s,icon:e.icon,iconUrl:d});let ei=()=>{if((0,S.Cu)({trackingContext:P.name,pluginId:e.pluginId}),U&&!W||q){g();return}if(e.onClick){e.onClick();return}g()};return i.createElement("div",{className:o()(p?es.$C:es.MJ,R||e.isFauxFocused?es.c6:void 0,e.isDevModeWizard?es.NH:void 0),onClick:ei,role:"button",tabIndex:0,ref:C?h:void 0},i.createElement("button",{onClick:e=>{e.stopPropagation(),ei()},ref:Y?void 0:F,"data-testid":"plugin-tile-button"}),i.createElement("div",{className:es.ot},e.isNotification&&i.createElement("div",{className:es.Vx}),a),et)}function eA(e){let t=(0,B.YO)()[e.widgetId],n=(0,B.ZT)()[e.widgetId],l=(0,A.tw)(n);return t?(0,V.ZQ)(t)?i.createElement(eO,{localFileId:t.localFileId.toString(),isRecentTile:!0}):l?null:i.createElement(eD,{widgetId:e.widgetId,type:"recent"}):null}function eD(e){var t;let n=(0,r.wA)(),{viewWidgetDetails:l}=eE(),a=(0,B.ZT)()[e.widgetId],o=(0,B.Be)().widgets[e.widgetId],d=(0,B.YO)()[e.widgetId],u="recent"===e.type?d:"org_private"===e.type?(0,M.uF)(a):o,c=(0,L.U)(),p=(null==c?void 0:c.type)===er._n&&c.data.widgetId===e.widgetId&&c.data.targetRect&&c.data.viewType===e.type,g=(0,B.Ud)(e.widgetId),m=i.useRef(null),v=(0,B.WK)(e.widgetId),I=s.eD&&!!g&&!v,y=!!v||I,E=(0,L.U)(),_=i.useRef(null),w=(null==c?void 0:c.type)===ei.cH&&c.data.widgetId===e.widgetId,{isWidgetBlockedByAllowlist:f}=(0,B.Ys)(e.widgetId),b=i.useCallback(t=>{if(y){if(t.preventDefault(),t.stopPropagation(),w)n(R.oB());else{let l=t.currentTarget.getBoundingClientRect();n(R.j7({type:ei.cH,data:{targetRect:l,widgetId:e.widgetId}}))}}},[n,e.widgetId,w,y]),C=i.useCallback(()=>{(0,O.j)({pluginID:e.widgetId,widgetName:u.name,pluginVersionID:u.id,triggeredFrom:"universal-insert"})},[u,e.widgetId]),T=i.useCallback(e=>{y?b(e):x.l7.user("insert-published-widget",()=>{C()})},[C,b,y]),h=i.useCallback(t=>{t.stopPropagation(),p?n(R.oB()):n(R.j7({type:er._n,data:{widgetId:e.widgetId,targetRect:t.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[p,n,e.widgetId,e.type]);if(!u)return null;if((0,V.ZQ)(u))return i.createElement(eO,{localFileId:u.localFileId.toString()});let F=null==(t=_.current)?void 0:t.getBoundingClientRect(),P=!!(E&&F)||p,N=i.createElement(el._W,{resourceId:e.widgetId,resourceType:W.vt.WIDGET,parentView:el.nN.TILE,isFauxFocused:P});return i.createElement("div",null,i.createElement(eM,{widget:u,localWidget:v,subheader:(0,ea.CF)(u),iconUrl:u.redirect_snapshot_url??void 0,widgetId:e.widgetId,useHorizontalLayout:!0,optionsButtonIsActive:p,onOptionsClick:h,onClick:T,secondaryIcon:i.createElement(eI,{resource:u}),primaryCTAButton:N,isFauxFocused:P,visuallyDisabled:f}),i.createElement("div",{ref:m}),E&&F&&i.createElement(er.NR,{targetRect:F,widgetId:e.widgetId,lean:"center"}),p&&i.createElement(er.EJ,{viewResource:l,plugin:u}))}function ex(e){return(0,B.ZT)()[e.widgetId]?i.createElement(eD,{widgetId:e.widgetId,type:"org_private"}):null}function eO(e){let t=(0,r.wA)(),n=(0,B.yQ)(),l=i.useMemo(()=>e.localFileId?n[e.localFileId]:void 0,[n,e.localFileId]),a=(0,B.jg)(),o=l?l.plugin_id:e.widgetId,s=(0,B.bh)({includePendingPublishers:!1}),d=i.useMemo(()=>Object.values(s).find(e=>e.id===o),[s,o]),u=i.useMemo(()=>d&&d.current_plugin_version_id?d.versions[d.current_plugin_version_id]:void 0,[d]),c=(0,L.U)(),{viewWidgetDetails:p}=eE(),g=(null==c?void 0:c.type)===Y.jZ.DEVELOPMENT_WIDGET_DROPDOWN&&(null==c?void 0:c.data.isRecentTile)===e.isRecentTile&&(null==c?void 0:c.data.localFileId)===e.localFileId&&(null==c?void 0:c.data.pluginId)===o&&(null==c?void 0:c.data.targetRect),m=i.useCallback(n=>{if(n.stopPropagation(),g)t(R.oB());else{let l=n.currentTarget.getBoundingClientRect();t(R.j7({type:Y.jZ.DEVELOPMENT_WIDGET_DROPDOWN,data:{localFileId:e.localFileId,pluginId:o,isRecentTile:e.isRecentTile,targetRect:l}}))}},[t,e.localFileId,o,e.isRecentTile,g]),v=i.useCallback(()=>{l&&(0,O.j)({pluginID:l.plugin_id,widgetName:l.name,pluginVersionID:"",triggeredFrom:"universal-insert"})},[l]);if(!l&&!d)return null;let I=i.createElement(et.A,{localResource:l,publishedResource:d}),y=d&&(0,h.AC)(d),E=d&&(0,M.uF)(d).redirect_snapshot_url||e.localFileId&&a[e.localFileId]&&a[e.localFileId].metadata.widgetSnapshotImageSrc||ee.J,_=d&&!y?d.roles.is_public?ep.A:em.A:void 0;return i.createElement(i.Fragment,null,i.createElement(eM,{widget:u,localWidget:l,subheader:I,iconUrl:E,widgetId:o,onClick:()=>v(),onOptionsClick:m,optionsButtonIsActive:g,useHorizontalLayout:!0,showEditorTypeIcon:!1,publishingStatusIcon:_,inReview:y}),g&&(l?i.createElement(er.T9,{localResource:l,viewResource:p}):i.createElement(er.T9,{publishedResource:d,viewResource:p})))}function eL(e){let{widgetId:t}=e,n=(0,B.ZT)()[t]??null;if(!n)return null;let l=(0,M.uF)(n),{redirect_snapshot_url:r,manifest:a}=l;return i.createElement(eM,{widget:l,iconUrl:r??void 0,widgetId:n.id,onClick:e=>e.stopPropagation(),useHorizontalLayout:!0,showEditorTypeIcon:!0,editorType:a.editorType,isNotification:!0,metadataOverrideNode:i.createElement(en.PE,{resource:n})})}function ej(e){let t=(0,A.J$)(e.widgetId);if(!t)return null;let n=(0,M.uF)(t),l=(0,ea.fO)(t),r=i.createElement(i.Fragment,null,i.createElement("div",{className:es.rz},(0,h.G8)(n,c.$J)),i.createElement("div",{className:es.Yl},l));return i.createElement(eM,{widget:n,subheader:r,iconUrl:n.redirect_snapshot_url??void 0,widgetId:e.widgetId})}function eU({useHorizontalLayout:e=!1,onIconClick:t,disabled:n,iconUrl:l="",widget:a,publishedWidget:o,keyboardNavigationButtonRef:s}){let d=i.useMemo(()=>e?[f.op.PRICE]:[f.op.PURCHASED,f.op.OFF_PLATFORM,f.op.FREEMUM,f.op.PRICE],[e]),u=(0,r.d4)(e=>e.authedActiveCommunityProfile);return i.createElement("div",{className:e?es.Zv:es.Cq,onClick:t,role:"button",tabIndex:0},n?i.createElement(H.z,{src:l,context:U._Y.DESIGN}):i.createElement(q._,{widget:a,src:l,analytics:{triggeredFrom:"universal-insert"},keyboardNavigationButtonRef:s,context:U._Y.DESIGN}),i.createElement("div",{className:es.VJ},(0,f.$3)({resource:o,authedActiveCommunityProfile:u,validBadges:d,height:e?"16":"24"})))}let eM=i.memo(function(e){let t=e.localWidget??e.widget??M.lT,{viewWidgetDetails:n,keyboardNavigationPath:l,shouldFocusFirstItem:r}=eE(),{setKeyboardNavigationElement:a,isFauxFocused:s,keyboardNavigationButtonRef:d}=ef(`widget_${t.name}`,l,!!r),u=(0,B.ZT)()[e.widgetId],c=(0,A.EO)(u),p=(0,A.gn)(u),g=u?(0,M.uF)(u):null,m=t.name;(null==g?void 0:g.name)&&(null==g?void 0:g.name)!==""&&(m=null==g?void 0:g.name);let w=(0,j.sZ)(),f=(0,B.U6)(),C=!e.localWidget&&(0,D.BF)({org:w,extensionVersion:g??e.widget,isWidget:!0,allowlistedExtensions:f}),T=!!(c||C),h=(0,N.j6)(),R=T?void 0:e=>e.stopPropagation(),F=e.metadataOverrideNode??i.createElement(i.Fragment,null,i.createElement("div",{className:es.QF},i.createElement("div",{className:es.JW},i.createElement(_.Y,{spacing:4,verticalAlignItems:"center"},i.createElement("div",{className:o()(es.Y2,{[I.cx.colorTextDisabled.$]:e.visuallyDisabled})},m),e.inReview&&i.createElement(b.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,e.publishingStatusIcon&&i.createElement("div",{className:I.cx.colorIcon.$},i.createElement(v.t,{svg:e.publishingStatusIcon})),p&&i.createElement("div",{className:es.Y9},i.createElement(X.xY,null)))),i.createElement("div",{className:es.ML},e.subheader)),e.onOptionsClick&&i.createElement(K.K0,{svg:eu.A,fallbackSvg:ec.A,className:e.optionsButtonIsActive?es.F$:es.D1,onClick:e.onOptionsClick,"data-tooltip-type":G.Ib.TEXT,"data-tooltip":(0,y.t)("universal_insert.more_options")}),e.primaryCTAButton&&i.createElement("div",{style:E.sx.add({alignSelf:"center"}).$},e.primaryCTAButton));return i.createElement("div",{className:o()(e.useHorizontalLayout?es.Gy:es.BG,s?es.c6:void 0),onClick:t=>{(0,S.Cu)({trackingContext:h.name,widgetId:e.widgetId}),T?n():e.onClick?e.onClick(t):n()},role:"button",tabIndex:0,ref:l?a:void 0,"data-testid":"widget-tile"},i.createElement("div",{className:es.ot},e.isNotification&&i.createElement("div",{className:es.Vx}),e.showEditorTypeIcon?i.createElement(Z.li.IconAndBadgeContainer,null,i.createElement(eU,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:R,disabled:T,iconUrl:e.iconUrl,widget:t,publishedWidget:u,keyboardNavigationButtonRef:d}),i.createElement(Z.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"widget"},i.createElement(Z.dn,{editorType:e.editorType,is16x16:!0}))):i.createElement(eU,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:R,disabled:T,iconUrl:e.iconUrl,widget:t,publishedWidget:u,keyboardNavigationButtonRef:d})),F)});function eW(e){var t;let n=(0,r.wA)(),l=i.useRef(null),a=(0,L.U)(),o=(0,B.JI)(),s=(0,J.ks)(),d=(0,k.dR)(e.pluginId,"universal-insert"),u=(0,k.Gt)(e.pluginId,"universal-insert"),c=(0,P.t0)(e.pluginId,u,d),g=c.length>0,v=ez(e.pluginId,"community"),I=g&&(null==a?void 0:a.type)===e.dropdownShownType&&(null==a?void 0:a.data.pluginId)===e.pluginId,E=v||I,{validatePublishedPluginInOrgAllowlist:_}=(0,B.j1)(e.pluginId),w=(0,k.RK)(e.pluginId),f=i.useCallback(t=>{if(t.stopPropagation(),_()){if(g){E?n(R.oB()):(e.dropdownShownType&&n(R.j7({type:e.dropdownShownType,data:{pluginId:e.pluginId}})),n(eG({pluginId:e.pluginId,tileType:"community"})));return}w?u():d(),n(F.b({seen_published_plugin_onboarding_modal:!0})),n(F.b({seen_development_plugin_onboarding_modal:!0}))}},[_,g,w,n,E,e.dropdownShownType,e.pluginId,u,d]);if(s&&!o)return null;let b=null==(t=l.current)?void 0:t.getBoundingClientRect(),C=e.usePrimaryButtonStyles?i.createElement(p.$$,{onClick:f,className:es.lI},i.createElement(y.Tx,{id:"universal_insert.run"}),g&&i.createElement(m.B,{svg:ed.A,className:es.sI})):i.createElement("button",{className:es.lO,onClick:f,ref:e.buttonRef},i.createElement(y.Tx,{id:"universal_insert.run"}),g&&i.createElement(m.B,{svg:ed.A,className:es.zZ}));return i.createElement("div",{className:e.usePrimaryButtonStyles?es.od:void 0,"data-testid":"run-plugin-button"},i.createElement("div",{ref:l},C),E&&b&&i.createElement(Q.j,{showPoint:!1,items:c,onSelectItem:e=>{e.callback&&e.callback("",null,n)},parentRect:b,dispatch:n,lean:"left"}))}let eV="DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU";function eG(e){return R.j7({type:eV,data:e})}function ez(e,t){let n=(0,L.U)();return(null==n?void 0:n.type)===eV&&n.data.pluginId===e&&t===n.data.tileType}function e$(e){var t;let n=(0,r.wA)(),l=(0,B.ZT)()[e.widgetId],a=(0,B.WK)(e.widgetId),o=(0,B.Ud)(e.widgetId),d=s.eD&&!!o&&!a,u=!!a||d,c=(0,L.U)(),g=(null==c?void 0:c.type)===ei.cH&&c.data.widgetId===e.widgetId,v=i.useRef(null),I=i.useCallback(t=>{if(u){if(t.preventDefault(),t.stopPropagation(),g)n(R.oB());else{let l=t.currentTarget.getBoundingClientRect();n(R.j7({type:ei.cH,data:{targetRect:l,widgetId:e.widgetId}}))}}},[n,e.widgetId,g,u]),E=i.useCallback(()=>{let e=(0,M.uF)(l);(0,O.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:e.id,triggeredFrom:"universal-insert"})},[l]),_=i.useCallback(e=>{u?I(e):x.l7.user("insert-published-widget",()=>{E()})},[E,I,u]);if(!l)return null;let w=i.createElement(p.$$,{onClick:_,className:es.lI},i.createElement(y.Tx,{id:"universal_insert.add"}),u&&i.createElement(m.B,{svg:ed.A,className:es.sI})),f=null==(t=v.current)?void 0:t.getBoundingClientRect();return i.createElement("div",{className:es.od},i.createElement("div",{ref:v},w),g&&f&&i.createElement(er.NR,{targetRect:f,widgetId:e.widgetId}))}function eH(e){let t=(0,A.lt)(e.plugin);return e.plugin.monetized_resource_metadata?i.createElement("div",{className:es.y2},i.createElement("div",{className:es.lO},(0,T.bV)(e.plugin.monetized_resource_metadata)),!e.hideFreeTrialBadge&&(0,T.Lt)({resource:e.plugin,payment:t})&&i.createElement(C.w5,{metadata:e.plugin.monetized_resource_metadata,condensed:!0})):null}},324666:(e,t,n)=>{function l(){return null}n.d(t,{GO:()=>p,H5:()=>i,Mr:()=>y,Qc:()=>o,go:()=>a,j8:()=>g,jK:()=>I,kD:()=>r,l:()=>c,li:()=>u,mh:()=>v,oT:()=>m,rC:()=>s,rf:()=>d});let i=l,r=l,a=l,o=l,s=l,d=l,u=l,c=l,p=l,g=l,m=l,v=l,I=l,y=l}}]);

//# debugId=634caede-2cec-554c-8d97-dec9eb1b7ede

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/0c9eac610a2b3fdb51ce20c13f303c6b2fad4326/8044-e733909170f3c1a3.min.js.map